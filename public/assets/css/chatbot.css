/* Chatbot widget styled to match the app (primary blue, soft cards, dark mode) */
#chatbot-root { position: fixed; right: 20px; bottom: 20px; z-index: 9998; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial; }

/* Toggle button */
#chatbot-root .cb-btn { background: #2563eb; color: #fff; border: none; width: 48px; height: 48px; border-radius: 12px; box-shadow: 0 8px 20px rgba(37,99,235,.3); cursor: pointer; display: grid; place-items: center; font-size: 20px; }
#chatbot-root .cb-btn:hover { background: #1d4ed8; }

/* Panel */
#chatbot-root .cb-panel { position: absolute; right: 0; bottom: 64px; width: 340px; max-height: 60vh; display: flex; flex-direction: column; background: #ffffff; border: 1px solid rgba(0,0,0,.08); border-radius: 16px; overflow: hidden; box-shadow: 0 20px 40px rgba(0,0,0,.18); }
#chatbot-root .cb-header { display: flex; align-items: center; justify-content: space-between; padding: 10px 12px; background: #f8fafc; border-bottom: 1px solid rgba(0,0,0,.06); }
#chatbot-root .cb-title { font-weight: 700; color: #111827; }
#chatbot-root .cb-close { border: none; background: transparent; font-size: 22px; color: #475569; cursor: pointer; }

/* Messages */
#chatbot-root .cb-messages { padding: 12px; overflow-y: auto; min-height: 200px; background: #fff; }
#chatbot-root .cb-messages .row { display: flex; }
#chatbot-root .msg { font-size: 14px; line-height: 1.45; margin: 8px 0; display: inline-block; padding: 8px 10px; border-radius: 12px; max-width: 90%; box-shadow: 0 2px 8px rgba(0,0,0,.05); }
#chatbot-root .bot { background: #f1f5f9; color: #0f172a; }
#chatbot-root .user { background: #2563eb; color: #fff; align-self: flex-end; }

/* Input */
#chatbot-root .cb-form { display: flex; gap: 8px; padding: 10px; border-top: 1px solid rgba(0,0,0,.06); background: #fafafa; }
#chatbot-root .cb-input { flex: 1; border: 1px solid #e5e7eb; border-radius: 12px; padding: 10px 12px; font-size: 14px; }
#chatbot-root .cb-send { background: #2563eb; color: #fff; border: none; padding: 10px 12px; border-radius: 12px; cursor: pointer; }
#chatbot-root .cb-send:hover { background: #1d4ed8; }

/* A11y */
#chatbot-root .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }

/* Dark mode overrides (match dark cards and borders used in the app) */
.dark #chatbot-root .cb-panel { background: #111827; border-color: rgba(255,255,255,.08); box-shadow: 0 20px 40px rgba(0,0,0,.5); }
.dark #chatbot-root .cb-header { background: #0f172a; border-bottom-color: rgba(255,255,255,.06); }
.dark #chatbot-root .cb-title { color: #e5e7eb; }
.dark #chatbot-root .cb-close { color: #cbd5e1; }
.dark #chatbot-root .cb-messages { background: #111827; }
.dark #chatbot-root .bot { background: rgba(255,255,255,.06); color: #e5e7eb; }
.dark #chatbot-root .user { background: #2563eb; color: #fff; }
.dark #chatbot-root .cb-form { background: #0f172a; border-top-color: rgba(255,255,255,.06); }
.dark #chatbot-root .cb-input { background: rgba(255,255,255,.06); color: #e5e7eb; border-color: rgba(255,255,255,.12); }
